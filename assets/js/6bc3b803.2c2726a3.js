"use strict";(self.webpackChunkephemeris_notes=self.webpackChunkephemeris_notes||[]).push([[5],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var i=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},l=Object.keys(e);for(i=0;i<l.length;i++)a=l[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)a=l[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=i.createContext({}),m=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=m(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=m(a),c=n,k=d["".concat(s,".").concat(c)]||d[c]||p[c]||l;return a?i.createElement(k,r(r({ref:t},u),{},{components:a})):i.createElement(k,r({ref:t},u))}));function c(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,r=new Array(l);r[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,r[1]=o;for(var m=2;m<l;m++)r[m]=a[m];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9878:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>m});var i=a(7462),n=(a(7294),a(3905));const l={tags:["devlog"],sidebar_position:12},r=void 0,o={unversionedId:"ImplementationDetails/devlog/2025/December",id:"ImplementationDetails/devlog/2025/December",title:"December",description:"Monday 1st",source:"@site/docs/ImplementationDetails/devlog/2025/December.md",sourceDirName:"ImplementationDetails/devlog/2025",slug:"/ImplementationDetails/devlog/2025/December",permalink:"/EphemerisNotes/ImplementationDetails/devlog/2025/December",draft:!1,editUrl:"https://github.com/martindevans/EphemerisNotes/tree/master/docs/ImplementationDetails/devlog/2025/December.md",tags:[{label:"devlog",permalink:"/EphemerisNotes/tags/devlog"}],version:"current",sidebarPosition:12,frontMatter:{tags:["devlog"],sidebar_position:12},sidebar:"tutorialSidebar",previous:{title:"November",permalink:"/EphemerisNotes/ImplementationDetails/devlog/2025/November"},next:{title:"Media",permalink:"/EphemerisNotes/category/media"}},s={},m=[{value:"Monday 1st",id:"monday-1st",level:2},{value:"Tuesday 2nd",id:"tuesday-2nd",level:2},{value:"Wednesday 3rd",id:"wednesday-3rd",level:2},{value:"Thursday 4th",id:"thursday-4th",level:2},{value:"Friday 5th",id:"friday-5th",level:2},{value:"Monday 8th",id:"monday-8th",level:2},{value:"Tuesday 9th",id:"tuesday-9th",level:2},{value:"Wednesday 10th",id:"wednesday-10th",level:2},{value:"Thursday 11th",id:"thursday-11th",level:2},{value:"Friday 11th",id:"friday-11th",level:2},{value:"Monday 22nd",id:"monday-22nd",level:2}],u={toc:m};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"monday-1st"},"Monday 1st"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Removed ",(0,n.kt)("inlineCode",{parentName:"li"},"WetMass")," component, just having the one ",(0,n.kt)("inlineCode",{parentName:"li"},"FuelTank")," component as the wet mass instead"),(0,n.kt)("li",{parentName:"ul"},"Built method to calculate mass consumed by burns in a given timespan"),(0,n.kt)("li",{parentName:"ul"},"Building script to create test entity for gizmo"),(0,n.kt)("li",{parentName:"ul"},"Publishing dev notes")),(0,n.kt)("h2",{id:"tuesday-2nd"},"Tuesday 2nd"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Researching nav computer ideas",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Experimenting with CMA-ES (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/yn-cloud/CMAES.NET"},"https://github.com/yn-cloud/CMAES.NET"),")"),(0,n.kt)("li",{parentName:"ul"},"Particle Swarm Optimisation (",(0,n.kt)("a",{parentName:"li",href:"https://github.com/adamstirtan/ParticleSwarmSharp"},"https://github.com/adamstirtan/ParticleSwarmSharp"),")"),(0,n.kt)("li",{parentName:"ul"},"Building job based particle swarm optimisation"),(0,n.kt)("li",{parentName:"ul"},"Optimisations:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Parallelising more bits"),(0,n.kt)("li",{parentName:"ul"},"Splitting accumulators into batches of work (accumulating into a local accumulator) which accumulate into a per-thread accumulator. Next job in the chain sums together all the per-thread accumulators to get the final result.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Must batch work in first stage to use that local accumulator, avoids false sharing!"))),(0,n.kt)("li",{parentName:"ul"},"SIMD for ",(0,n.kt)("inlineCode",{parentName:"li"},"MinIndex(Span<double>)"))))))),(0,n.kt)("h2",{id:"wednesday-3rd"},"Wednesday 3rd"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Cleaning up PSO",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},'Switching to "Bare Bones PSO" - more iterations to converge but with less magic parameters to tweak. Also significantly simpler so should run each iteration ',(0,n.kt)("em",{parentName:"li"},"much")," faster."))),(0,n.kt)("li",{parentName:"ul"},"Cleaning up utility jobs that were used while developing this"),(0,n.kt)("li",{parentName:"ul"},"Creating system to attach orbit gizmo to selection points",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Setting up components to position gizmo at selection point"),(0,n.kt)("li",{parentName:"ul"},"Attaching gizmo directly to the selection entity so it inherits position",(0,n.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Need to handle rotation")))))),(0,n.kt)("h2",{id:"thursday-4th"},"Thursday 4th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Investigating how to determine rotation for orbit lines",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("del",{parentName:"li"},"Generate it during integration?")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("del",{parentName:"li"},"Guess it during sampling from the acceleration?")),(0,n.kt)("li",{parentName:"ul"},"Calculate it based on major body where it's needed?"))),(0,n.kt)("li",{parentName:"ul"},"Hacked rotation calculation into position setting system",(0,n.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Need to work out where it should really go")))),(0,n.kt)("h2",{id:"friday-5th"},"Friday 5th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Working out correct rotations for gizmo on orbit when relative to another planet",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Experimenting with a few different orientations"))),(0,n.kt)("li",{parentName:"ul"},"Cleaned up code for rotations")),(0,n.kt)("h2",{id:"monday-8th"},"Monday 8th"),(0,n.kt)("ul",{className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul"},"Fixing gizmo grab handles when rotated and translated"),(0,n.kt)("li",{parentName:"ul"},"Fixing gizmo scaling issues when rotated and translated"),(0,n.kt)("li",{parentName:"ul"},"Fixing issue with picking canvas coming before physics picks, making prograde handle almost impossible to grab (it would always pick the orbit line instead)",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Made picking canvas a screen space overlay on the astro camera (it uses that for picking)"),(0,n.kt)("li",{parentName:"ul"},"Made picking canvas raycaster blocked by 3D objects on astro layers"))),(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Making canvas screen space: overlay broke picking?"),(0,n.kt)("li",{parentName:"ul"},"Hooking up gizmo inputs to burn scheduler",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"It works! Kinda!",(0,n.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Orbit flickers constantly when dragging handles"),(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Sensitivity is all wrong"),(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Cancel button doesn't work"))))),(0,n.kt)("li",{parentName:"ul"},"Investigating nbody orbit line redraws from the start when modified",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Conversion from world space -> relative space:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Rolled back too far"),(0,n.kt)("li",{parentName:"ul"},"Did extra work after rollback which is immediately wasted"),(0,n.kt)("li",{parentName:"ul"},"Exactly the same issues in conversion to GPU buffers")))))),(0,n.kt)("h2",{id:"tuesday-9th"},"Tuesday 9th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Testing orbit gizmo"),(0,n.kt)("li",{parentName:"ul"},"Applying changes less often (4 times a second) when dragging handle"),(0,n.kt)("li",{parentName:"ul"},"Fixing issue with ",(0,n.kt)("inlineCode",{parentName:"li"},"NaN")," in burn config (caused by zero duration burns)"),(0,n.kt)("li",{parentName:"ul"},"Fixing depth/stencil issues with gizmo when occluded by planet"),(0,n.kt)("li",{parentName:"ul"},"Adding smaller dashes to the gizmo dash ring (large dash every 30 degrees, small every 10)"),(0,n.kt)("li",{parentName:"ul"},"Fixing overlay canvas issues",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Must be on a layer the camera is rendering"),(0,n.kt)("li",{parentName:"ul"},"0.1 is too close"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ScreenPointToWorldPointInRectangle")," seems to be wrong in this mode?")))),(0,n.kt)("h2",{id:"wednesday-10th"},"Wednesday 10th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Continuing to investigate canvas issues",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Passing event camera, fixed positioning errors"),(0,n.kt)("li",{parentName:"ul"},"Switching back to overlay instead camera canvas"))),(0,n.kt)("li",{parentName:"ul"},"Adding a physics raycast when picking, rejecting pick points which are behind the first hit.")),(0,n.kt)("h2",{id:"thursday-11th"},"Thursday 11th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Investigating adding a "boost" mode to the integrator, which generates more than one page of data per frame',(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Annoying to implement chaining of these jobs (need to know the end state of one before starting the next)"))),(0,n.kt)("li",{parentName:"ul"},"Fixing a longstanding issue in Mirror, causing spurious warnings in console"),(0,n.kt)("li",{parentName:"ul"},"Creating Jovian moon",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Using textures from: ",(0,n.kt)("a",{parentName:"li",href:"https://bjj.mmedia.is/data/ganymede/index.html"},"https://bjj.mmedia.is/data/ganymede/index.html"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Bit low res, but it'll do for now!"))),(0,n.kt)("li",{parentName:"ul"},"Ganymede"),(0,n.kt)("li",{parentName:"ul"},"Io"),(0,n.kt)("li",{parentName:"ul"},"Callisto")))),(0,n.kt)("h2",{id:"friday-11th"},"Friday 11th"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Updating rail integrator to run in all three update phases.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"If work finishes fast this will complete it and start more work sooner."),(0,n.kt)("li",{parentName:"ul"},"Debugging why Early/Late update seem to be slower"))),(0,n.kt)("li",{parentName:"ul"},"Tweaking Io cloud layer",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Denser"),(0,n.kt)("li",{parentName:"ul"},"More unpleasant colour around rim"))),(0,n.kt)("li",{parentName:"ul"},"Debugging an allocation in Myriad ",(0,n.kt)("inlineCode",{parentName:"li"},"CommandBuffer")),(0,n.kt)("li",{parentName:"ul"},"Optimising orbit ray picking a little",(0,n.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Ideally move this work to a job",(0,n.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,n.kt)("li",{parentName:"ul",className:"task-list-item"},(0,n.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Add job support to relative paged rail"))))),(0,n.kt)("li",{parentName:"ul"},"Improving Ganymede surface texture")),(0,n.kt)("h2",{id:"monday-22nd"},"Monday 22nd"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Expanded maximum integration page size (256 -> 1024)"),(0,n.kt)("li",{parentName:"ul"},"Fixed bug in picking system due to larger pages")))}p.isMDXComponent=!0}}]);