<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-ImplementationDetails/Rendering/GPUBezierCurves">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">GPU Bezier Curves | Ephemeris Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://martindevans.github.io/EphemerisNotes/ImplementationDetails/Rendering/GPUBezierCurves/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GPU Bezier Curves | Ephemeris Notes"><meta data-rh="true" name="description" content="Ephemeris needs to draw a lot of lines to show orbital paths. In fact most of the important information in the game is communicated entirely with lines and UI elements!"><meta data-rh="true" property="og:description" content="Ephemeris needs to draw a lot of lines to show orbital paths. In fact most of the important information in the game is communicated entirely with lines and UI elements!"><link data-rh="true" rel="icon" href="/EphemerisNotes/img/rocket_64.png"><link data-rh="true" rel="canonical" href="https://martindevans.github.io/EphemerisNotes/ImplementationDetails/Rendering/GPUBezierCurves/"><link data-rh="true" rel="alternate" href="https://martindevans.github.io/EphemerisNotes/ImplementationDetails/Rendering/GPUBezierCurves/" hreflang="en"><link data-rh="true" rel="alternate" href="https://martindevans.github.io/EphemerisNotes/ImplementationDetails/Rendering/GPUBezierCurves/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/EphemerisNotes/assets/css/styles.d5e10428.css">
<link rel="preload" href="/EphemerisNotes/assets/js/runtime~main.2bead7ec.js" as="script">
<link rel="preload" href="/EphemerisNotes/assets/js/main.a690518f.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/EphemerisNotes/"><div class="navbar__logo"><img src="/EphemerisNotes/img/rocket_512.png" alt="Ephemeris Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/EphemerisNotes/img/rocket_512.png" alt="Ephemeris Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Ephemeris</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/EphemerisNotes/">Ephemeris</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/EphemerisNotes/category/implementation-details/">Implementation Details</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Details&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Content Assets/">Content Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Fonts/">Fonts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Marketing/">Marketing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Marketing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Modding/">Modding</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Multiplayer/Frameworks/">Multiplayer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Naming/">Naming</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Physics/Integration/">Physics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/PrecisionScale/">Precision &amp; Scale</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/EphemerisNotes/ImplementationDetails/ProceduralGeneration/EditorProceduralGeneration/">ProceduralGeneration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/CPULines/">Rendering</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/CPULines/">CPU Line Rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/CarmackStarRendering/">CarmackStarRendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/GPUBezierCurves/">GPU Bezier Curves</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/GPULines/">GPU Line Rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/Layers/">Layers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/LineGridRendering/">Line Grid Rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/Rendering/SceneScaleTricks/">Scene Scale Tricks</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EphemerisNotes/ImplementationDetails/UnityPlugins/">UnityPlugins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/EphemerisNotes/category/development-log/">Development Log</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development Log&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/EphemerisNotes/category/media/">Media</a><button aria-label="Toggle the collapsible sidebar category &#x27;Media&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/EphemerisNotes/category/web-pages/">Web Pages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web Pages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EphemerisNotes/Design/Damage/Ideas/">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EphemerisNotes/Rocketry/LaunchVehicles/">Rocketry</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/EphemerisNotes/Setting/">Setting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EphemerisNotes/SolarSystem/Jupiter/Images/">SolarSystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/EphemerisNotes/Weapons/Real/Atomic Weapons/">Weapons</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/EphemerisNotes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/EphemerisNotes/category/implementation-details/"><span itemprop="name">Implementation Details</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Rendering</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">GPU Bezier Curves</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GPU Bezier Curves</h1></header><p>Ephemeris needs to draw a lot of lines to show orbital paths. In fact most of the important information in the game is communicated entirely with lines and UI elements!</p><p>Some other articles have discussed rendering lines:</p><ul><li>[<!-- -->[GPULines]<!-- -->]</li><li>[<!-- -->[CPULines]<!-- -->]</li><li>[<!-- -->[LineGridRendering]<!-- -->]</li></ul><p>This article does not discuss the details of converting an orbital path into the data necessary to render the entire line. Instead we will focus on one specific detail: rendering a quadratic bezier curve entirely on the GPU, using just one triangle!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bezier-curves-101">Bezier Curves 101<a href="#bezier-curves-101" class="hash-link" aria-label="Direct link to Bezier Curves 101" title="Direct link to Bezier Curves 101">​</a></h3><p>First of all; what is a quadratic bezier curve?</p><p><img loading="lazy" alt="Bezier curve with 4 points" src="/EphemerisNotes/assets/images/Bezier-65ce376a6cadee3d5a31f63e99d3255f.png" width="712" height="412" class="img_ev3q"></p><p>A bezier curve is a smooth curve, created by interpolating between various control points. The line starts and ends at the first and last control points, but does not pass through the intermediate control points. They are very widely used in games, <a href="https://catlikecoding.com/unity/tutorials/curves-and-splines/" target="_blank" rel="noopener noreferrer">here&#x27;s a tutorial that goes into much more depth</a>.</p><p>A Quadratic bezier curve is the simplest kind of bezier curve with just three control points; start, control point, end.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Ok technically a straight line is the simplest kind of bezier with just two control points. But that doesn&#x27;t really count!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bezier-curve-rendering">Bezier Curve Rendering<a href="#bezier-curve-rendering" class="hash-link" aria-label="Direct link to Bezier Curve Rendering" title="Direct link to Bezier Curve Rendering">​</a></h3><p>A bezier curve can be approximated by a series of straight lines. This example is rendered using the Unity <code>LineRenderer</code> component and a very simple script that evaluates the bezier curve at 8 points.</p><p><img loading="lazy" alt="Bezier approximation" src="/EphemerisNotes/assets/images/Unity_2023-09-04_22-17-09-3fb467823bc542b73d1c934830711333.png" width="1608" height="958" class="img_ev3q"></p><p>Of course this could be made to use a more reasonable number of points, but that will always be an approximation made out of straight lines. We can do better!</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enter-nvidia">Enter Nvidia<a href="#enter-nvidia" class="hash-link" aria-label="Direct link to Enter Nvidia" title="Direct link to Enter Nvidia">​</a></h4><p><a href="https://developer.nvidia.com/gpugems/gpugems3/part-iv-image-effects/chapter-25-rendering-vector-art-gpu" target="_blank" rel="noopener noreferrer">This article</a> from <strong>GPU gems 3</strong> details an approach to rendering bezier curves using just one triangle!</p><p><img loading="lazy" src="https://developer.nvidia.com/sites/all/modules/custom/gpugems/books/GPUGems3/elementLinks/25fig02.jpg" alt="Bezier curves" class="img_ev3q"></p><p>The article explain in detail how it works, so I&#x27;ll only cover the basics here. It is based on texture interpolation. The uv coordinates are setup as:</p><ul><li>Start: <code>[0, 0]</code></li><li>Middle: <code>[0.5, 0]</code></li><li>End: <code>[1, 1]</code></li></ul><p>The exact edge of the bezier curve is then the position where:</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>u</mi><mn>2</mn></msup><mo>−</mo><mi>v</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u^2 - v = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span></p><p>All positive values are &quot;above&quot; the curve (shown in white) and all negative values are &quot;below&quot; the curve (shown in orange). So a simple shader that looks like this:</p><div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">float x = i.uv.x * i.uv.x - i.uv.y;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip(-x); // Remove all pixels where `-x` is negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return float4(1, 0, 0, 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Produces this result:</p><p><img loading="lazy" alt="GPU Bezier curve" src="/EphemerisNotes/assets/images/Unity_2023-09-04_22-27-50-b2872f6a0ff2d5531adb68f50039cbf6.png" width="1260" height="837" class="img_ev3q"></p><p>Halfway there, but now we need to render a <em>line</em> instead of a region. This could be done by checking if <code>x</code> is <em>nearly</em> zero.</p><div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">float x = i.uv.x * i.uv.x - i.uv.y;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip(x &gt; -Thickness &amp;&amp; x &lt; Thickness ? 1 : -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return float4(1, 0, 0, 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With a constant <code>Thickness</code> value the line is too fat when close, but becomes thinner than one pixel when far away:</p><p><img loading="lazy" alt="Aliased mess" src="/EphemerisNotes/assets/images/Unity_2023-09-04_22-54-25-72c5183b81bb4c9ec02b52bd10ca318e.png" width="878" height="404" class="img_ev3q"></p><p>The absolute minimum thickness can be determined with the change in <code>x</code> across a single pixel:</p><div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">float dx = abs(ddx(x));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float dy = abs(ddy(x));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float min_width = 0.5 * max(dx, dy);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip(x &gt; -min_width &amp;&amp; x &lt; min_width ? 1 : -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return float4(1, 0, 0, 1);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which achieves a line that&#x27;s exactly 1 pixel wide, no matter how far from the camera:</p><p><img loading="lazy" alt="1px wide line" src="/EphemerisNotes/assets/images/Unity_2023-09-04_22-57-52-e4007c67695eeecc3cf9c5652573f207.png" width="821" height="401" class="img_ev3q"></p><p>There&#x27;s still a small improvement that can be made to this though. The line is now exactly 1 pixel wide, which means it has jagged edges. In fact even if the line was wider it would still have very hard edges. let&#x27;s zoom way in to see it better:</p><p><img loading="lazy" alt="Edges like Jagger" src="data:image/png;base64,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" width="1306" height="580" class="img_ev3q"></p><p>Instead of clipping when <code>x &gt; min_width</code> let&#x27;s add one extra row of pixels. Those pixels can have their alpha set between 0 and 1, based on the value of <code>x</code> (closer to zero means closer to 1 alpha).</p><div class="language-hlsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hlsl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Remove all pixels &quot;above&quot; the curve except for a single row</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clip(-x + min_width);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Alpha blend that one row of pixels above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (x &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return float4(1, 0, 0, saturate(1 - x / min_width));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Alpha blended top" src="data:image/png;base64,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" width="1306" height="580" class="img_ev3q"></p><p>As you can see the top is much smoother.</p><p>The same effect can be applied to the bottom, but before we do that there&#x27;s final thing to add: line thickness. At the moment the line is <em>always</em> 1 pixel wide. Thickness would be easy to add by multiplying with <code>min_width</code> but that would look bad:</p><p><img loading="lazy" alt="Bad Edge" src="/EphemerisNotes/assets/images/Unity_2023-09-04_23-12-05-1ff98716e148e1d5e2fffa461813882a.png" width="1307" height="902" class="img_ev3q"></p><p>As you can see the line is pressed up against the edge of the geometry and is cut off, leading to inconsistent width towards the end. This is because the line has been expanded outwards in both directions. To avoid this the line should be expanded inwards only.</p><p>Once this is all put together:</p><p><img loading="lazy" alt="Perfect Bezier" src="/EphemerisNotes/assets/images/Unity_2023-09-04_23-15-42-ae445d0a5a437b29e5e39e18b12c4a74.png" width="1032" height="526" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="perfection">Perfection?<a href="#perfection" class="hash-link" aria-label="Direct link to Perfection?" title="Direct link to Perfection?">​</a></h3><p>So is this the perfect way to render a bezier curve? no.</p><p>There is one very big problem with the approach so far: look at just how large the triangle is compared to the number of pixels that are shaded - that&#x27;s a huge amount of wasted overdraw!</p><p>Fortunately there&#x27;s a solution to this too. A single quadratic bezier with points <code>a, b, c</code> can be split at point <code>z</code> into two bezier curves:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private static (BezierCurve, BezierCurve) Split(float3 a, float3 b, float3 c, float z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P10 = a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P11 = (1 - z) * a + z * b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P12 = math.pow(1 - z, 2) * a + 2 * (1 - z) * z * b + math.pow(z, 2) * c;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P20 = P12;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P21 = (1 - z) * b + z * c;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var P22 = c;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new BezierCurve(P10, P11, P12),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new BezierCurve(P20, P21, P22)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This can be used to split the triangles into smaller triangles, reducing the overdraw. In this example the two triangles are adjusted so that they overlap, which hides artefacts around the join:</p><p><img loading="lazy" alt="Split Triangles" src="/EphemerisNotes/assets/images/Unity_2023-09-04_23-49-55-ba63f9ecbb098d7727e2670330009a09.png" width="1499" height="747" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/EphemerisNotes/tags/technical-details/">TechnicalDetails</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/EphemerisNotes/tags/rendering/">Rendering</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/EphemerisNotes/tags/gpu/">GPU</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/EphemerisNotes/tags/shaders/">Shaders</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/martindevans/EphemerisNotes/tree/master/docs/ImplementationDetails/Rendering/GPUBezierCurves.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/EphemerisNotes/ImplementationDetails/Rendering/CarmackStarRendering/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CarmackStarRendering</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/EphemerisNotes/ImplementationDetails/Rendering/GPULines/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GPU Line Rendering</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bezier-curves-101" class="table-of-contents__link toc-highlight">Bezier Curves 101</a></li><li><a href="#bezier-curve-rendering" class="table-of-contents__link toc-highlight">Bezier Curve Rendering</a></li><li><a href="#perfection" class="table-of-contents__link toc-highlight">Perfection?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/c7VTX5C4tq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/martindevans" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contribute</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/martindevans/EphemerisNotes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://github.com/martindevans/EphemerisNotes/actions/workflows/deploy.yml/badge.svg" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://github.com/martindevans/EphemerisNotes/actions/workflows/deploy.yml/badge.svg" alt="Github Status" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="208" height="20"><img src="https://github.com/martindevans/EphemerisNotes/actions/workflows/deploy.yml/badge.svg" alt="Github Status" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="208" height="20"></a></div></div></div></footer></div>
<script src="/EphemerisNotes/assets/js/runtime~main.2bead7ec.js"></script>
<script src="/EphemerisNotes/assets/js/main.a690518f.js"></script>
</body>
</html>